{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport default function axiosReguest(value) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '48820344-d1ffc058fda0b82549bb04a16';\n  return axios.get(BASE_URL, {\n    params: {\n      key: API_KEY,\n      q: value,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    },\n  });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryPopup = new SimpleLightbox('.images-gallery .gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  overlayOpacity: 0.8,\n  className: 'gallery-popup',\n});\n\nexport function renderErrorMessage() {\n  return iziToast.error({\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    position: 'topRight',\n    backgroundColor: '#EF4040',\n    messageColor: 'white',\n    iconColor: 'white',\n    iconUrl: '../img/group.svg',\n    progressBar: true,\n    timeout: 10000,\n    animateInside: false,\n    messageSize: '16',\n    transitionIn: 'fadeIn',\n  });\n}\n\nexport function renderImages(images, gallery) {\n  const imagesHTMLArray = images.map(image => {\n    return `<li class=\"gallery-item\">\n                 <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n                    <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" width=\"500\"/>\n                 </a>\n                 <ul class=\"gallery-info\">\n                    <li class=\"gallery-likes\">\n                        <span class=\"title\">Likes</span>\n                        <span class=\"content\">${image.likes}</span>\n                    </li>\n                    <li class=\"gallery-views\">\n                        <span class=\"title\">Views</span>\n                        <span class=\"content\">${image.views}</span>\n                    </li>\n                    <li class=\"gallery-comments\">\n                        <span class=\"title\">Comments</span>\n                        <span class=\"content\">${image.comments}</span>\n                    </li>\n                    <li class=\"gallery-downloads\">\n                        <span class=\"title\">Downloads</span>\n                        <span class=\"content\">${image.downloads}</span>\n                    </li>\n                 </ul>\n              </li>`;\n  });\n  gallery.insertAdjacentHTML('afterbegin', imagesHTMLArray.join(''));\n  galleryPopup.refresh();\n}\n\nexport function toggleLoader(loader) {\n  loader.classList.toggle('show');\n}\n","import axiosRequest from './js/pixabay-api';\nimport {\n  renderErrorMessage,\n  renderImages,\n  toggleLoader,\n} from './js/render-functions';\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  const form = document.querySelector('.search-form');\n  const imagesGallery = document.querySelector('.images-gallery');\n  const loader = document.querySelector('.loader');\n\n  function initialGallery(e) {\n    e.preventDefault();\n    const searchInput = form.elements.search.value;\n    if (!searchInput) return;\n\n    toggleLoader(loader);\n    imagesGallery.innerHTML = '';\n\n    axiosRequest(searchInput.trim())\n      .then(response => {\n        const images = response.data.hits;\n        if (!images.length) {\n          imagesGallery.innerHTML = '';\n          toggleLoader(loader);\n          renderErrorMessage();\n        } else {\n          renderImages(images, imagesGallery);\n          toggleLoader(loader);\n        }\n      })\n      .catch(error => {\n        console.log(error);\n        toggleLoader(loader);\n      })\n      .finally(() => {\n        form.reset();\n      });\n  }\n\n  form.addEventListener('submit', initialGallery);\n});\n"],"names":["axiosReguest","value","axios","galleryPopup","SimpleLightbox","renderErrorMessage","iziToast","renderImages","images","gallery","imagesHTMLArray","image","toggleLoader","loader","form","imagesGallery","initialGallery","searchInput","axiosRequest","response","error"],"mappings":"owBAEe,SAASA,EAAaC,EAAO,CAG1C,OAAOC,EAAM,IAFI,2BAEU,CACzB,OAAQ,CACN,IAHY,qCAIZ,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,CACH,CCTA,MAAME,EAAe,IAAIC,EAAe,gCAAiC,CACvE,aAAc,MACd,aAAc,IACd,eAAgB,GAChB,UAAW,eACb,CAAC,EAEM,SAASC,GAAqB,CACnC,OAAOC,EAAS,MAAM,CACpB,QACE,2EACF,SAAU,WACV,gBAAiB,UACjB,aAAc,QACd,UAAW,QACX,QAAS,mBACT,YAAa,GACb,QAAS,IACT,cAAe,GACf,YAAa,KACb,aAAc,QAClB,CAAG,CACH,CAEO,SAASC,EAAaC,EAAQC,EAAS,CAC5C,MAAMC,EAAkBF,EAAO,IAAIG,GAC1B;AAAA,4BACiBA,EAAM,aAAa;AAAA,sDACOA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,gDAK5CA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,gDAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,gDAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,gDAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,oBAI5D,EACDF,EAAQ,mBAAmB,aAAcC,EAAgB,KAAK,EAAE,CAAC,EACjEP,EAAa,QAAO,CACtB,CAEO,SAASS,EAAaC,EAAQ,CACnCA,EAAO,UAAU,OAAO,MAAM,CAChC,CCtDA,OAAO,iBAAiB,mBAAoB,IAAM,CAChD,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAgB,SAAS,cAAc,iBAAiB,EACxDF,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASG,EAAe,EAAG,CACzB,EAAE,eAAc,EAChB,MAAMC,EAAcH,EAAK,SAAS,OAAO,MACpCG,IAELL,EAAaC,CAAM,EACnBE,EAAc,UAAY,GAE1BG,EAAaD,EAAY,MAAM,EAC5B,KAAKE,GAAY,CAChB,MAAMX,EAASW,EAAS,KAAK,KACxBX,EAAO,QAKVD,EAAaC,EAAQO,CAAa,EAClCH,EAAaC,CAAM,IALnBE,EAAc,UAAY,GAC1BH,EAAaC,CAAM,EACnBR,IAKV,CAAO,EACA,MAAMe,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBR,EAAaC,CAAM,CAC3B,CAAO,EACA,QAAQ,IAAM,CACbC,EAAK,MAAK,CAClB,CAAO,EACJ,CAEDA,EAAK,iBAAiB,SAAUE,CAAc,CAChD,CAAC"}